<script type="text/javascript">
  (function () {
    'use strict';
    var __assign = function () {
      __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
          s = arguments[i];
          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
      };
      return __assign.apply(this, arguments);
    };

    const defaultFish = {
      fishIdType: { value: 'robot', required: true },
      fishIdName: { value: 'name', required: true },
      fishIdVersion: {
        value: 0,
        required: true,
      },
      initState: { value: '{}', required: true },
      where: { value: 'tagA & tagB | tagC:{{payload.name}}', required: true },
      onEvent: {
        value: '(state, event, metaData) => {\n  return state\n}\n',
        required: true,
      },
    };

    RED.nodes.registerType('pond-config', {
      category: 'config',
      defaults: {
        name: { value: 'pond config' },
        pondVersion: {
          value: 'v3',
          required: true,
        },
        appid: {
          value: 'com.example.node-red',
          required: true,
        },
        displayname: {
          value: 'Node Red',
          required: true,
        },
        version: {
          value: '0.0.1',
          required: true,
          validate: function (value) {
            return typeof value === 'string';
          } /* && valid(value) !== null */,
        },
        signature: {
          value: '',
        },
      },
      label: function () {
        return this.pondVersion + ' - ' + this.appid;
      },
    });
    RED.nodes.registerType('pond-emit', {
      category: 'Actyx Pond',
      color: '#F3B567',
      defaults: {
        name: { value: '' },
        pond: { type: 'pond-config', value: '' },
        tags: { value: 'something something:{{id}}', required: true },
      },
      inputs: 1,
      outputs: 1,
      align: 'right',
      icon: 'pond.png',
      paletteLabel: 'Pond Emit',
      inputLabels: 'payload to send',
      outputLabels: ['send payload'],
      label: function () {
        return this.name || 'pond emit';
      },
    });
    RED.nodes.registerType('pond-observe-fish', {
      category: 'Actyx Pond',
      color: '#F3B567',
      defaults: {
        name: { value: '' },
        pond: { type: 'pond-config', value: '' },
      },
      inputs: 1,
      outputs: 1,
      icon: 'pond.png',
      paletteLabel: 'Pond observe fish',
      label: function () {
        return this.name || 'Pond observe fish';
      },
    });
    RED.nodes.registerType('pond-observe', {
      category: 'Actyx Pond',
      color: '#F3B567',
      defaults: __assign(__assign({ name: { value: '' }, pond: { type: 'pond-config', value: '' } }, defaultFish), { syntax: { value: 'javascript' } }),
      inputs: 0,
      outputs: 1,
      icon: 'pond.png',
      paletteLabel: 'Pond Observe',
      label: function () {
        return this.name || 'pond observe';
      },
      oneditprepare: function () {
        var _a;
        if (!this.syntax) {
          this.syntax = 'javascript';
          $('#node-input-syntax').val(this.syntax);
        }
        this.onEventEditor = RED.editor.createEditor({
          id: 'node-input-onEvent-editor',
          mode: 'ace/mode/javascript',
          value: ((_a = $('#node-input-onEvent').val()) === null || _a === void 0 ? void 0 : _a.toString()) || '',
        });
        // eslint-disable-next-line @typescript-eslint/no-this-alias
        var node = this;
        $('#node-input-format').on('change', function () {
          var _a;
          var mod = 'ace/mode/' + $('#node-input-format').val();
          (_a = node.onEventEditor) === null || _a === void 0 ? void 0 : _a.getSession().setMode({
            path: mod,
            v: Date.now(),
          });
        });
        $('#node-input-initState').typedInput({
          // eslint-disable-next-line @typescript-eslint/ban-ts-comment
          // @ts-ignore
          type: 'json',
          types: ['json'],
        });
      },
      oneditsave: function () {
        var _a, _b;
        $('#node-input-onEvent').val(((_a = this.onEventEditor) === null || _a === void 0 ? void 0 : _a.getValue()) || '');
        (_b = this.onEventEditor) === null || _b === void 0 ? void 0 : _b.destroy();
        delete this.onEventEditor;
      },
      oneditcancel: function () {
        var _a;
        (_a = this.onEventEditor) === null || _a === void 0 ? void 0 : _a.destroy();
        delete this.onEventEditor;
      },
    });
    RED.nodes.registerType('actyx-fish', {
      category: 'Actyx Pond',
      color: '#F3B567',
      defaults: __assign(__assign({ name: { value: '' } }, defaultFish), { syntax: { value: 'javascript' } }),
      inputs: 1,
      outputs: 1,
      icon: 'pond.png',
      paletteLabel: 'Fish',
      label: function () {
        return this.name || 'Inject Actyx Fish';
      },
      oneditprepare: function () {
        var _a;
        //@ts-ignore
        if (!this.syntax) {
          this.syntax = 'javascript';
          $('#node-input-syntax').val(this.syntax);
        }
        //@ts-ignore
        this.onEventEditor = RED.editor.createEditor({
          id: 'node-input-onEvent-editor',
          mode: 'ace/mode/javascript',
          value: ((_a = $('#node-input-onEvent').val()) === null || _a === void 0 ? void 0 : _a.toString()) || '',
        });
        var node = this;
        $('#node-input-format').on('change', function () {
          var mod = 'ace/mode/' + $('#node-input-format').val();
          //@ts-ignore
          node.onEventEditor.getSession().setMode({
            path: mod,
            v: Date.now(),
          });
        });
        $('#node-input-initState').typedInput({
          //@ts-ignore
          type: 'json',
          types: ['json'],
        });
      },
      oneditsave: function () {
        //@ts-ignore
        $('#node-input-onEvent').val(this.onEventEditor.getValue());
        //@ts-ignore
        this.onEventEditor.destroy();
        //@ts-ignore
        delete this.onEventEditor;
      },
      oneditcancel: function () {
        //@ts-ignore
        this.onEventEditor.destroy();
        //@ts-ignore
        delete this.onEventEditor;
      },
    });

    RED.nodes.registerType('pond-observe-registry', {
      category: 'Actyx Pond',
      color: '#F3B567',
      defaults: __assign(__assign({ name: { value: '' } }, defaultFish), { syntax: { value: 'javascript' } }),
      inputs: 1,
      outputs: 1,
      icon: 'pond.png',
      paletteLabel: 'Observe reg.',
      label: function () {
        return this.name || 'observe Registry';
      },
      oneditprepare: function () {
        var _a;
        //@ts-ignore
        if (!this.syntax) {
          this.syntax = 'javascript';
          $('#node-input-syntax').val(this.syntax);
        }
        //@ts-ignore
        this.onEventEditor = RED.editor.createEditor({
          id: 'node-input-onEvent-editor',
          mode: 'ace/mode/javascript',
          value: ((_a = $('#node-input-onEvent').val()) === null || _a === void 0 ? void 0 : _a.toString()) || '',
        });
        var node = this;
        $('#node-input-format').on('change', function () {
          var mod = 'ace/mode/' + $('#node-input-format').val();
          //@ts-ignore
          node.onEventEditor.getSession().setMode({
            path: mod,
            v: Date.now(),
          });
        });
        $('#node-input-initState').typedInput({
          //@ts-ignore
          type: 'json',
          types: ['json'],
        });
      },
      oneditsave: function () {
        //@ts-ignore
        $('#node-input-onEvent').val(this.onEventEditor.getValue());
        //@ts-ignore
        this.onEventEditor.destroy();
        //@ts-ignore
        delete this.onEventEditor;
      },
      oneditcancel: function () {
        //@ts-ignore
        this.onEventEditor.destroy();
        //@ts-ignore
        delete this.onEventEditor;
      },
    });


    RED.nodes.registerType('aql-query', {
      category: 'Actyx Pond',
      color: '#F3B567',
      defaults: {
        name: { value: '' },
        pond: { type: 'pond-config', value: '' },
        aql: {
          value: 'FROM allEvents',
          required: true,
        },
      },
      inputs: 1,
      outputs: 1,
      icon: 'pond.png',
      paletteLabel: 'AQL-Query',
      label: function () {
        return this.name || 'AQL-Query';
      },
      oneditprepare: function () {
        var _a;
        //@ts-ignore
        if (!this.syntax) {
          this.syntax = 'AQL';
          $('#node-input-syntax').val(this.syntax);
        }
        //@ts-ignore
        this.aqlEditor = RED.editor.createEditor({
          id: 'node-input-aql-editor',
          mode: 'ace/mode/javascript',
          value: ((_a = $('#node-input-aql').val()) === null || _a === void 0 ? void 0 : _a.toString()) || '',
        });
        var node = this;
        $('#node-input-format').on('change', function () {
          var mod = 'ace/mode/' + $('#node-input-format').val();
          //@ts-ignore
          node.aqlEditor.getSession().setMode({
            path: mod,
            v: Date.now(),
          });
        });
        $('#node-input-initState').typedInput({
          //@ts-ignore
          type: 'aql',
          types: ['aql'],
        });
      },
      oneditsave: function () {
        //@ts-ignore
        $('#node-input-aql').val(this.aqlEditor.getValue());
        //@ts-ignore
        this.aqlEditor.destroy();
        //@ts-ignore
        delete this.aqlEditor;
      },
      oneditcancel: function () {
        //@ts-ignore
        this.aqlEditor.destroy();
        //@ts-ignore
        delete this.aqlEditor;
      },
    });

  }());
</script>

<script type="text/html" data-template-name="actyx-fish">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
  <div class="form-row">
    <label for="node-input-fishIdType"><i class="icon-tag"></i> Fish id type</label>
    <input type="text" id="node-input-fishIdType" placeholder="fishIdType">
  </div>
  <div class="form-row">
    <label for="node-input-fishIdName"><i class="icon-tag"></i> Fish id name</label>
    <input type="text" id="node-input-fishIdName" placeholder="fishIdName">
  </div>
  <div class="form-row">
    <label for="node-input-fishIdVersion"><i class="icon-tag"></i> Fish id version</label>
    <input type="text" id="node-input-fishIdVersion" placeholder="fishIdVersion">
  </div>
  <div class="form-row">
    <label for="node-input-initState"><i class="icon-tag"></i> Initial state</label>
    <input type="text" id="node-input-initState" placeholder="initState">
  </div>
  <div class="form-row">
    <label for="node-input-where"><i class="icon-tag"></i> Where</label>
    <input type="text" id="node-input-where" placeholder="where">
  </div>
  <div class="form-row" style="position: relative; margin-bottom: 0px;">
    <label for="node-input-onEvent"><i class="fa fa-file-code-o"></i> OnEvent</label>
    <input type="hidden" id="node-input-onEvent" autofocus="autofocus">
    <div style="position: absolute; right:0;display:inline-block; text-align: right; font-size: 0.8em;">
        <span >Syntax Highlight:</span>:
        <select id="node-input-format" style="width:110px; font-size: 10px !important;  height: 24px; padding:0;">
            <option value="javascript">Javascript</option>
            <option value="text">Text</option>
        </select>
    </div>
</div>
<div class="form-row node-text-editor-row">
    <div style="height: 250px; min-height:150px;" class="node-text-editor" id="node-input-onEvent-editor" ></div>
</div>
</script>

<script type="text/html" data-help-name="actyx-fish">
  <h1>Actyx fish</h1>
  <p>Fish definition for <code>Pond observe fish</code></p>

  <h3>Inputs</h3>
  <dl class="message-properties">
      <dt>payload
          <span class="property-type">any</span>
      </dt>
      <dd>optional payload to define the fish (<code>{{payload.name}}</code>).</dd>
  </dl>
  <h3>Output</h3>
  <dl class="message-properties">
      <dt>payload
          <span class="property-type">any</span>
      </dt>
      <dd>Unchanged payload</dd>
      <dt>fish
        <span class="property-type">FishMessage</span>
      </dt>
      <dd>
        Fish for the observe-fish node
        <p>
          Properties:
            <dt style="margin-left: 25px; font-size: small;">fishIdName <span class="property-type">string</span></dt>
            <dt style="margin-left: 25px; font-size: small;">fishIdType <span class="property-type">string</span></dt>
            <dt style="margin-left: 25px; font-size: small;">fishIdVersion <span class="property-type">number</span></dt>
            <dt style="margin-left: 25px; font-size: small;">initState <span class="property-type">string</span></dt>
            <dt style="margin-left: 25px; font-size: small;">where <span class="property-type">string</span></dt>
            <dt style="margin-left: 25px; font-size: small;">onEvent <span class="property-type">string</span></dt>
        </p>
      </dd>

  </dl>
  <h3>Settings</h3>
  <dl class="message-properties">
    <dt>Name<span class="property-type">string</span></dt>
    <dd>Name of the node-red node visible in the UI.</dd>

    <dt>Fish id type<span class="property-type">string</span></dt>
    <dd>A general description for the class of thing the Fish represents, e.g. 'robot'</dd>

    <dt>Fish id name<span class="property-type">string</span></dt>
    <dd>Concrete name of the represented thing, e.g. 'superAssembler2000' or '{{payload.name}}'</dd>

    <dt>Fish id version<span class="property-type">number</span></dt>
    <dd>Version of the underlying code. Must be increased whenever the Fish’s underlying logic <code>(onEvent)</code> or event selection changes <code>(where)</code>.</dd>

    <dt>Initial state<span class="property-type">JSON</span></dt>
    <dd>Initial state of the fish</dd>

    <dt>where<span class="property-type">string</span></dt>
    <dd>
      <p>Selection of events to aggregate in this Fish.</p>
      <p>
        Use <code>&</code> (and) and <code>|</code> (or) to create more complex subscriptions<br />
        E.g.: <code style="white-space: break-spaces; line-break: anywhere;">robot & robot:robot1 & order-released-for:robot1 | stop-system & stop-system:robot</code>
      </p>
      <p>
        The Fish will apply all <code>&</code> first and apply the <code>|</code> as second step.<br />
        <code style="white-space: break-spaces; line-break: anywhere;">Tags('robot', 'robot:robot1', 'order-released-for:robot1').or(Tags('stop-system', 'stop-system:robot'))</code><br />
      </p>
    </dd>

    <dt>OnEvent<span class="property-type">Function body</span></dt>
    <dd>
      <p>Function to create the next state from previous state and next event.</p>
      <p>
        Do note however that — while it may modify the passed-in state — this function must be _pure_:
        <ul>
          <li>It should not cause any side-effects (except logging)</li>
          <li>It should not reference dynamic outside state like random numbers or the current time. The result must depend purely on the input parameters.</li>
        </ul>
      </p>
    </dd>
  </dl>
</script>

<script type="text/html" data-template-name="pond-emit">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
  <div class="form-row">
    <label for="node-input-pond"><i class="icon-tag"></i> Pond</label>
    <input type="text" id="node-input-pond" placeholder="Pond">
  </div>
  <div class="form-row">
    <label for="node-input-tags"><i class="icon-tag"></i> Tags</label>
    <input type="text" id="node-input-tags" placeholder="Tags">
  </div>
</script>

<script type="text/html" data-help-name="pond-emit">
  <h1>Actyx Pond emit(tag, payload)</h1>
  <p>Publish you payload in actyxOS</p>
  <p>
    <code>msg.payload</code> is used as the payload of the published event. If
    the <code>tags</code> are defined as template it is rendered with the data in the <code>msg</code>
  </p>

  <h3>Inputs</h3>
  <dl class="message-properties">
      <dt>payload
          <span class="property-type">string | number | object</span>
      </dt>
      <dd>The payload of the event to publish with the tags defined in the node settings. </dd>
  </dl>
  <h3>Output</h3>
  <dl class="message-properties">
      <dt>payload
          <span class="property-type">string | number | object</span>
      </dt>
      <dd>The payload of the publish event. </dd>
  </dl>
  <h3>Settings</h3>
  <dl class="message-properties">
      <dt>Name
          <span class="property-type">string</span>
      </dt>
      <dd>Name of the node-red node visible in the UI.</dd>
      <dt>Tags
        <span class="property-type">string</span>
      </dt>
      <dd>Tags applied to the event. To add multiple tags, sepprate them with <code>space</code>, <code>,</code> or <code>;</code>.</dd>
      <dd>The tag could be advanced with data from the <code>msg</code>.</dd>
      <dd><code>machine machine:{{payload.name}}</code> </dd>
  </dl>
</script>

<script type="text/html" data-template-name="pond-config">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
  <h3>Version</h3>
  <div class="form-row">
    <label for="node-config-input-pondVersion"><i class="fa fa-bookmark"></i> Pond Version</label>
    <select type="text" id="node-config-input-pondVersion">
      <option value="v2">Pond V2</option>
      <option value="v3">Pond V3</option>
    </select>
  </div>

  <h3>Manifest</h3>
  <div class="form-row">
    <label for="node-config-input-appid"><i class="fa fa-bookmark"></i> AppId</label>
    <input type="text" id="node-config-input-appid">
  </div>
  <div class="form-row">
    <label for="node-config-input-displayname"><i class="fa fa-bookmark"></i> Display name</label>
    <input type="text" id="node-config-input-displayname">
  </div>
  <div class="form-row">
    <label for="node-config-input-version"><i class="fa fa-bookmark"></i> Version</label>
    <input type="text" id="node-config-input-version">
  </div>
  <div class="form-row">
    <label for="node-config-input-signature"><i class="fa fa-bookmark"></i> Signature</label>
    <input type="text" id="node-config-input-signature">
  </div>
</script>

<script type="text/html" data-template-name="pond-observe">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>

  <div class="form-row">
    <label for="node-input-pond"><i class="icon-tag"></i> Pond</label>
    <input type="text" id="node-input-pond" placeholder="Pond">
  </div>

  <div class="form-row">
    <label for="node-input-fishIdType"><i class="icon-tag"></i> FishIdType</label>
    <input type="text" id="node-input-fishIdType" placeholder="fishIdType">
  </div>
  <div class="form-row">
    <label for="node-input-fishIdName"><i class="icon-tag"></i> fishIdName</label>
    <input type="text" id="node-input-fishIdName" placeholder="fishIdName">
  </div>
  <div class="form-row">
    <label for="node-input-fishIdVersion"><i class="icon-tag"></i> fishIdVersion</label>
    <input type="text" id="node-input-fishIdVersion" placeholder="fishIdVersion">
  </div>
  <div class="form-row">
    <label for="node-input-initState"><i class="icon-tag"></i> initState</label>
    <input type="text" id="node-input-initState" placeholder="initState">
  </div>
  <div class="form-row">
    <label for="node-input-where"><i class="icon-tag"></i> where</label>
    <input type="text" id="node-input-where" placeholder="where">
  </div>
  <div class="form-row" style="position: relative; margin-bottom: 0px;">
    <label for="node-input-onEvent"><i class="fa fa-file-code-o"></i>OnEvent</label>
    <input type="hidden" id="node-input-onEvent" autofocus="autofocus">
    <div style="position: absolute; right:0;display:inline-block; text-align: right; font-size: 0.8em;">
        <span >Syntax Highlight:</span>:
        <select id="node-input-format" style="width:110px; font-size: 10px !important;  height: 24px; padding:0;">
            <option value="javascript">Javascript</option>
            <option value="text">Text</option>
        </select>
        <!--<button id="node-template-expand-editor" class="red-ui-button red-ui-button-small"><i class="fa fa-expand"></i></button>-->
    </div>
</div>
<div class="form-row node-text-editor-row">
    <div style="height: 250px; min-height:150px;" class="node-text-editor" id="node-input-onEvent-editor" ></div>
</div>
</script>

<script type="text/html" data-help-name="pond-observe">
  <h1>Actyx observe fish</h1>
  <p>Combines Fish and observe Fish in one node. This Node do not support inputs and can be used for singleton fish.</p>

  <h3>Output</h3>
  <dl class="message-properties">
      <dt>payload
          <span class="property-type">any</span>
      </dt>
      <dd>State of the observing fish</dd>
  </dl>
  <h3>Settings</h3>
  <dl class="message-properties">
    <dt>Name<span class="property-type">string</span></dt>
    <dd>Name of the node-red node visible in the UI.</dd>

    <dt>Fish id type<span class="property-type">string</span></dt>
    <dd>A general description for the class of thing the Fish represents, e.g. 'robot'</dd>

    <dt>Fish id name<span class="property-type">string</span></dt>
    <dd>Concrete name of the represented thing, e.g. 'superAssembler2000' or '{{payload.name}}'</dd>

    <dt>Fish id version<span class="property-type">number</span></dt>
    <dd>Version of the underlying code. Must be increased whenever the Fish’s underlying logic <code>(onEvent)</code> or event selection changes <code>(where)</code>.</dd>

    <dt>Initial state<span class="property-type">JSON</span></dt>
    <dd>Initial state of the fish</dd>

    <dt>where<span class="property-type">string</span></dt>
    <dd>
      <p>Selection of events to aggregate in this Fish.</p>
      <p>
        Use <code>&</code> (and) and <code>|</code> (or) to create more complex subscriptions<br />
        E.g.: <code style="white-space: break-spaces; line-break: anywhere;">robot & robot:robot1 & order-released-for:robot1 | stop-system & stop-system:robot</code>
      </p>
      <p>
        The Fish will apply all <code>&</code> first and apply the <code>|</code> as second step.<br />
        <code style="white-space: break-spaces; line-break: anywhere;">Tags('robot', 'robot:robot1', 'order-released-for:robot1').or(Tags('stop-system', 'stop-system:robot'))</code><br />
      </p>
    </dd>

    <dt>OnEvent<span class="property-type">Function body</span></dt>
    <dd>
      <p>Function to create the next state from previous state and next event.</p>
      <p>
        Do note however that — while it may modify the passed-in state — this function must be _pure_:
        <ul>
          <li>It should not cause any side-effects (except logging)</li>
          <li>It should not reference dynamic outside state like random numbers or the current time. The result must depend purely on the input parameters.</li>
        </ul>
      </p>
    </dd>
  </dl>
</script>

<script type="text/html" data-template-name="pond-observe-fish">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>

  <div class="form-row">
    <label for="node-input-pond"><i class="icon-tag"></i> Pond</label>
    <input type="text" id="node-input-pond" placeholder="Pond">
  </div>
</script>

<script type="text/html" data-help-name="pond-observe-fish">
  <h1>Actyx observe fish</h1>
  <p>Observe the <code>fish</code> in the input signal and emit signals when the <code>fish state</code> changes.</p>

  <h3>Inputs</h3>
  <dl class="message-properties">
    <dt>payload
        <span class="property-type">any</span>
    </dt>
    <dd>payload is not used</dd>
    <dt>fish
        <span class="property-type">FishMessage</span>
    </dt>
    <dd>
      <p>Fish to observe. Use the Actyx Fish node to inject a fish into the stream.</p>
      <p>if the <code>FishId</code> change, the current observation get terminated and a new observation get started.</p>
    </dd>
  </dl>

  <h3>Output</h3>
  <dl class="message-properties">
      <dt>payload
          <span class="property-type">any</span>
      </dt>
      <dd>State of the observing fish</dd>
  </dl>

  <h3>Settings</h3>
  <dl class="message-properties">
    <dt>Name<span class="property-type">string</span></dt>
    <dd>Name of the node-red node visible in the UI.</dd>
  <dl>
</script>

<script type="text/html" data-template-name="aql-query">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
  <div class="form-row">
    <label for="node-input-pond"><i class="icon-tag"></i> Pond</label>
    <input type="text" id="node-input-pond" placeholder="Pond">
  </div>
  <div class="form-row" style="position: relative; margin-bottom: 0px;">
    <label for="node-input-aql"><i class="fa fa-file-code-o"></i> AQL</label>
    <input type="hidden" id="node-input-aql" autofocus="autofocus">
    <div style="position: absolute; right:0;display:inline-block; text-align: right; font-size: 0.8em;">
        <span >Syntax Highlight:</span>:
        <select id="node-input-format" style="width:110px; font-size: 10px !important;  height: 24px; padding:0;">
            <option value="aql">AQL</option>
            <option value="text">Text</option>
        </select>
    </div>
</div>
<div class="form-row node-text-editor-row">
    <div style="height: 250px; min-height:150px;" class="node-text-editor" id="node-input-aql-editor" ></div>
</div>
</script>

<script type="text/html" data-help-name="aql-query">
  <h1>AQL Query</h1>

  <h3>Inputs</h3>
  <dl class="message-properties">
      <dt>payload
          <span class="property-type">any</span>
      </dt>
      <dd>optional payload to define the aql query (<code>{{payload.name}}</code>).</dd>
  </dl>
  <h3>Output</h3>
  <dl class="message-properties">
      <dt>payload
        <span class="property-type">any</span>
      </dt>
      <dd>result of the AQL query</dd>
  </dl>
  <h3>Settings</h3>
  <dl class="message-properties">
    <dt>Name<span class="property-type">string</span></dt>
    <dd>Name of the node-red node visible in the UI.</dd>

    <dt>AQL Query</dt>
    <dd>
      <p>Actyx Query Language to retrieve events from actyx</p>
    </dd>
  </dl>
</script>


<script type="text/html" data-template-name="pond-observe-registry">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
  <div class="form-row">
    <label for="node-input-fishIdType"><i class="icon-tag"></i> Fish id type</label>
    <input type="text" id="node-input-fishIdType" placeholder="fishIdType">
  </div>
  <div class="form-row">
    <label for="node-input-fishIdVersion"><i class="icon-tag"></i> Fish id version</label>
    <input type="text" id="node-input-fishIdVersion" placeholder="fishIdVersion">
  </div>
  <div class="form-row">
    <label for="node-input-initState"><i class="icon-tag"></i> Initial state</label>
    <input type="text" id="node-input-initState" placeholder="initState">
  </div>
  <div class="form-row">
    <label for="node-input-where"><i class="icon-tag"></i> Where</label>
    <input type="text" id="node-input-where" placeholder="where">
  </div>
  <div class="form-row" style="position: relative; margin-bottom: 0px;">
    <label for="node-input-onEvent"><i class="fa fa-file-code-o"></i> OnEvent</label>
    <input type="hidden" id="node-input-onEvent" autofocus="autofocus">
    <div style="position: absolute; right:0;display:inline-block; text-align: right; font-size: 0.8em;">
        <span >Syntax Highlight:</span>:
        <select id="node-input-format" style="width:110px; font-size: 10px !important;  height: 24px; padding:0;">
            <option value="javascript">Javascript</option>
            <option value="text">Text</option>
        </select>
    </div>
</div>
<div class="form-row node-text-editor-row">
    <div style="height: 250px; min-height:150px;" class="node-text-editor" id="node-input-onEvent-editor" ></div>
</div>
</script>

<script type="text/html" data-help-name="pond-observe-registry">
</script>
